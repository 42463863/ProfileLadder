<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Exploration of Run-Off Triangle Increments — incrExplor • ProfileLadder</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Exploration of Run-Off Triangle Increments — incrExplor"><meta name="description" content="The function takes a cumulative or incremental run-off triangle (partially or
completely observed) and provides some basic exploratory  of the observed
incremental payments. The function serves as
a useful tool for a user-based insight when manually defining the states of
the Markov Chain that is used to drive the reserve prediction in the MACRAME
algorithm implemented within the function mcReserve()."><meta property="og:description" content="The function takes a cumulative or incremental run-off triangle (partially or
completely observed) and provides some basic exploratory  of the observed
incremental payments. The function serves as
a useful tool for a user-based insight when manually defining the states of
the Markov Chain that is used to drive the reserve prediction in the MACRAME
algorithm implemented within the function mcReserve()."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ProfileLadder</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link maintainer" href="https://karlin.mff.cuni.cz/~maciak">Maintainer: Matúš Maciak</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Exploration of Run-Off Triangle Increments</h1>

      <div class="d-none name"><code>incrExplor.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The function takes a cumulative or incremental run-off triangle (partially or
completely observed) and provides some basic exploratory  of the observed
incremental payments. The function serves as
a useful tool for a user-based insight when manually defining the states of
the Markov Chain that is used to drive the reserve prediction in the MACRAME
algorithm implemented within the function <code><a href="mcReserve.html">mcReserve()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">incrExplor</span><span class="op">(</span></span>
<span>  <span class="va">triangle</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"median"</span>, <span class="st">"mean"</span>, <span class="st">"max"</span>, <span class="st">"min"</span><span class="op">)</span>,</span>
<span>  out <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  states <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  breaks <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-triangle">triangle<a class="anchor" aria-label="anchor" href="#arg-triangle"></a></dt>
<dd><p>cumulative or incremental run-off triangle (an object of the
class <code>triangle</code> or <code>matrix</code>) specified in terms of a partially
observed (run-off triangle) or a fully observed (completed triangle) matrix.
Only the upper-left triangular part (run-off trangle) is used to provide the
output analysis of the incremental payments and the underlying Markov chain
setting options</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>method form <code>c("median", "mean", "max", "min")</code> used to
summarize the run-off triangle increments within the given set of bins. Each
bin with the increments  is represented by a corresponding Markov state value
(obtained by the <code>method</code> choice with <code>median</code> being the DEFAULT option)</p></dd>


<dt id="arg-out">out<a class="anchor" aria-label="anchor" href="#arg-out"></a></dt>
<dd><p>integer value ranging from 1 to the number of development periods
(alternatively a vector of such integers) to indicate which columns
of the run-off triangle should be excluded
from the exploratory analysis of the increments. By DEFAULT, the first
incremental payments—i.e., the first column of the run-off triangle—are
not considered (<code>out = 1</code>). No colums are exluded for <code>out = 0</code> and
the whole run-off triangle is analyzed by <code>incrExplor()</code>. To specify
multiple columns that should be excluded, one can use <code>out = c(1,2,3)</code>
which will exlude the first three columns (the first three origins respectively)
from the exploratory analysis</p></dd>


<dt id="arg-states">states<a class="anchor" aria-label="anchor" href="#arg-states"></a></dt>
<dd><p>either an integer value to indicate an explicit number of the
Markov chain states to be used or  a vector of explicit Markov chain states
can be provided. The DEFAULT option (<code>states = NULL</code>) ensures a fully
data-driven (automatic) set of the Markov chain states as originally proposed
in Maciak, Mizera, and Pešta (2022)</p></dd>


<dt id="arg-breaks">breaks<a class="anchor" aria-label="anchor" href="#arg-breaks"></a></dt>
<dd><p>numeric vector of explicit (unique and monotonously increasing)
break points to define the bins for the run-off triangle increments.
If <code>states</code> is equal to some integer number (i.e., the explicit number
of the Markov chain states is requested by <code>states</code>) then the value of
<code>breaks</code> is ignored. If both <code>states</code> and <code>breaks</code> are specified
(i.e., numeric vectors are provided for both) then the set of states in
<code>states</code> must be given in a way that exactly one state value belongs to
exactly one bin defined by the break points specified by <code>breaks</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of the class <code>mcSetup</code> with the following elements:</p>
<dl><dt>incrTriangle</dt>
<dd><p>an object of the class <code>triangle</code> with the incremental
run-off triangle</p></dd>

<dt>triangleType</dt>
<dd><p>type of the input run-off triangle provided for the input
object <code>triangle</code> (cumulative or incremental)</p></dd>

<dt>defaultStates</dt>
<dd><p>the data-driven set of explicit states as used (by DEFAULT)
by the <code><a href="mcReserve.html">mcReserve()</a></code> function – the MACRAME prediction algorithm</p></dd>

<dt>defaultBreaks</dt>
<dd><p>the set of explicit data-driven breaks as used (by DEFAULT)
by the <code><a href="mcReserve.html">mcReserve()</a></code> function – the MACRAME prediction algorithm</p></dd>

<dt>increments</dt>
<dd><p>table with basic empirical characteristics of the increments
of the input run-off triangle (without the first origin payments—the values
in the first column of the run-off triangle). Two sets of increments are provided:
the raw incremental payments in the first row of the table and the standardized
increments (i.e., row incremental payments divided by the maximum payment within
the row (while not considering the columns specified by the <code>out</code> parameter)</p></dd>

<dt>userDefined</dt>
<dd><p>a list with all information regarding the user modified input
(numeric vector <code>increments</code> with the increments being analyzed; numeric
value in <code>outColumns</code> denoting the excluded columns in the run-off triangle;
<code>method</code> used to summarize the increments within the bins; numeric vector
with the resulting Markov chain states in <code>states</code> and the corresponding
numeric vector with the break points in <code>breaks</code> defining the bins for
the run-off triangle increments)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Maciak, M., Mizera, I., and Pešta, M. (2022). Functional Profile
Techniques for Claims Reserving. ASTIN Bulletin, 52(2), 449-482. DOI:10.1017/asb.2022.4</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="mcBreaks.html">mcBreaks()</a></code>, <code><a href="mcStates.html">mcStates()</a></code>, <code><a href="mcReserve.html">mcReserve()</a></code>, <code><a href="permuteReserve.html">permuteReserve()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">CameronMutual</span><span class="op">)</span> </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## default Markov Chain states with (roughly) equally occupied bins </span></span></span>
<span class="r-in"><span><span class="fu">incrExplor</span><span class="op">(</span><span class="va">CameronMutual</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #D700D7;">Data-driven (default) setting of the Markov Chain in MACRAME</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MC States: 13 81 197 302.5 438 601 948 1672.5 3073 3993</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #D700D7;">Corresponding bins for the run-off triangle increments</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "[-Inf, 75)"   "[75, 147)"    "[147, 288)"   "[288, 388)"   "[388, 554)"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "[554, 780)"   "[780, 1465)"  "[1465, 2587)" "[2587, 3955)" "[3955, Inf)" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## five Markov Chain states (with roughly equally occupied bins)</span></span></span>
<span class="r-in"><span><span class="fu">incrExplor</span><span class="op">(</span><span class="va">CameronMutual</span>, states <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #D700D7;">Data-driven (default) setting of the Markov Chain in MACRAME</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MC States: 13 81 197 302.5 438 601 948 1672.5 3073 3993</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #D700D7;">Corresponding bins for the run-off triangle increments</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "[-Inf, 75)"   "[75, 147)"    "[147, 288)"   "[288, 388)"   "[388, 554)"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "[554, 780)"   "[780, 1465)"  "[1465, 2587)" "[2587, 3955)" "[3955, Inf)" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> User-modified MC setting</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MC States: 38 283 529 1371 3216</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Corresponding bins for the run-off triangle increments</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "[-Inf, 147)" "[147, 388)"  "[388, 780)"  "[780, 2587)" "[2587, Inf)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Development periods (run-off triangle columns) not considered: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Method selected to summarize the increments within each bin: DEFAULT (median)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## explicitly defined breaks for five increment bins while the Markov states</span></span></span>
<span class="r-in"><span><span class="co">## are obtained as medians of the increments within each bin</span></span></span>
<span class="r-in"><span><span class="fu">incrExplor</span><span class="op">(</span><span class="va">CameronMutual</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">500</span>, <span class="fl">1000</span>, <span class="fl">2000</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #D700D7;">Data-driven (default) setting of the Markov Chain in MACRAME</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MC States: 13 81 197 302.5 438 601 948 1672.5 3073 3993</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #D700D7;">Corresponding bins for the run-off triangle increments</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "[-Inf, 75)"   "[75, 147)"    "[147, 288)"   "[288, 388)"   "[388, 554)"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "[554, 780)"   "[780, 1465)"  "[1465, 2587)" "[2587, 3955)" "[3955, Inf)" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> User-modified MC setting</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MC States: 8.5 248.5 764 1595 3216</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Corresponding bins for the run-off triangle increments</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "[-Inf, 20)"   "[20, 500)"    "[500, 1000)"  "[1000, 2000)" "[2000, Inf)" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Development periods (run-off triangle columns) not considered: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Method selected to summarize the increments within each bin: DEFAULT (median)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## explicitly defined breaks for five bins and the Markov states</span></span></span>
<span class="r-in"><span><span class="co">## are given as the maximum increments within each bin</span></span></span>
<span class="r-in"><span><span class="fu">incrExplor</span><span class="op">(</span><span class="va">CameronMutual</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">500</span>, <span class="fl">1000</span>, <span class="fl">2000</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"max"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #D700D7;">Data-driven (default) setting of the Markov Chain in MACRAME</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MC States: 13 81 197 302.5 438 601 948 1672.5 3073 3993</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #D700D7;">Corresponding bins for the run-off triangle increments</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "[-Inf, 75)"   "[75, 147)"    "[147, 288)"   "[288, 388)"   "[388, 554)"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "[554, 780)"   "[780, 1465)"  "[1465, 2587)" "[2587, 3955)" "[3955, Inf)" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> User-modified MC setting</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MC States: 16 439 978 1786 4969</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Corresponding bins for the run-off triangle increments</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "[-Inf, 20)"   "[20, 500)"    "[500, 1000)"  "[1000, 2000)" "[2000, Inf)" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Development periods (run-off triangle columns) not considered: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Method selected to summarize the increments within each bin: max</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## manually defined breaks for the bins and the corresponding states </span></span></span>
<span class="r-in"><span><span class="co">## exactly one state must be within each break</span></span></span>
<span class="r-in"><span><span class="fu">incrExplor</span><span class="op">(</span><span class="va">CameronMutual</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">500</span>, <span class="fl">1000</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                          states <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">250</span>, <span class="fl">800</span>, <span class="fl">1500</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #D700D7;">Data-driven (default) setting of the Markov Chain in MACRAME</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MC States: 13 81 197 302.5 438 601 948 1672.5 3073 3993</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #D700D7;">Corresponding bins for the run-off triangle increments</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "[-Inf, 75)"   "[75, 147)"    "[147, 288)"   "[288, 388)"   "[388, 554)"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "[554, 780)"   "[780, 1465)"  "[1465, 2587)" "[2587, 3955)" "[3955, Inf)" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> User-modified MC setting</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MC States: 10 250 800 1500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Corresponding bins for the run-off triangle increments</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "[-Inf, 20)"  "[20, 500)"   "[500, 1000)" "[1000, Inf)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Development periods (run-off triangle columns) not considered: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Method selected to summarize the increments within each bin: DEFAULT (median)</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matúš Maciak, Rastislav Matúš, Ivan Mizera, Michal Pešta.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>



  sidebar.html

  </body></html>

